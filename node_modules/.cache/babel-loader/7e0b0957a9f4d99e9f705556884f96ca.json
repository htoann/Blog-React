{"ast":null,"code":"import { useReducer, useRef, useEffect, useLayoutEffect } from 'react';\n\nfunction create$1(createState) {\n  let state;\n  const listeners = new Set();\n\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach(listener => listener(state, previousState));\n    }\n  };\n\n  const getState = () => state;\n\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    let currentSlice = selector(state);\n\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n\n  const destroy = () => listeners.clear();\n\n  const api = {\n    setState,\n    getState,\n    subscribe,\n    destroy\n  };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\n\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? create$1(createState) : createState;\n\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = useReducer(c => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n\n    let newStateSlice;\n    let hasNewStateSlice = false;\n\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n\n      const unsubscribe = api.subscribe(listener);\n\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n\n      return unsubscribe;\n    }, []);\n    return hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n  };\n\n  Object.assign(useStore, api);\n\n  useStore[Symbol.iterator] = function* () {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    yield useStore;\n    yield api;\n  };\n\n  return useStore;\n}\n\nexport default create;","map":{"version":3,"sources":["C:/Users/Toan/Desktop/JavaScript/reactjs/node_modules/zustand/esm/index.js"],"names":["useReducer","useRef","useEffect","useLayoutEffect","create$1","createState","state","listeners","Set","setState","partial","replace","nextState","previousState","Object","assign","forEach","listener","getState","subscribeWithSelector","selector","equalityFn","is","currentSlice","listenerToAdd","nextSlice","previousSlice","add","delete","subscribe","destroy","clear","api","isSSR","window","navigator","test","userAgent","useIsomorphicLayoutEffect","create","useStore","forceUpdate","c","stateRef","selectorRef","equalityFnRef","erroredRef","currentSliceRef","current","newStateSlice","hasNewStateSlice","stateBeforeSubscriptionRef","nextStateSlice","error","unsubscribe","Symbol","iterator","console","warn"],"mappings":"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","sourcesContent":["import { useReducer, useRef, useEffect, useLayoutEffect } from 'react';\n\nfunction create$1(createState) {\n  let state;\n  const listeners = new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? create$1(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = useReducer((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    return hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function* () {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    yield useStore;\n    yield api;\n  };\n  return useStore;\n}\n\nexport default create;\n"]},"metadata":{},"sourceType":"module"}